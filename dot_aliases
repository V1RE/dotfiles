#!/bin/bash

# General
alias v='$EDITOR'

alias cm="chezmoi"

# Dotfiles
alias dots="chezmoi edit --watch --apply"

# Listing files
alias ls="eza --icons --color=always --classify --git --group-directories-first --git-ignore"
alias l="ls --oneline"
alias ll="ls --long"
alias la="ll -a"
alias tree="ll --tree --level=3"

alias tlr="taze latest --recursive"
alias tlri="taze latest --recursive --write --install"

alias nr="FORCE_COLORS=1 nr"

# Git
alias lg="lazygit"
alias gitroot="git rev-parse --show-toplevel"
alias cdr='cd $(gitroot)'

alias rm="trash"
alias cat="bat"

alias ping="gping"

alias zed="zed-preview"

alias oc="opencode"

alias npx="bunx"

function ctxup() {
	local ctx_dir="$HOME/.ctx"

	fd -HI -t d -d 2 --glob '.git' "$ctx_dir" --format '{//}' | parallel --bar --tag '
    cd {} &&
    git fetch --all --prune &&
    git reset --hard origin/$(git rev-parse --abbrev-ref origin/HEAD | sed "s|origin/||") &&
    git clean -fd
  ' 2>&1
}
